@model IEnumerable<OnlineShop230616.Models.ProductModel>

@{
    Layout = "_AdminLteLayout";
    ViewData["Title"] = "Index";
}

<p>
    <a class="btn btn-primary btn-sm" asp-action="Create">Create New</a>
</p>
@*<table id="product_datatable" class="table table-hover">
  <thead>
    <tr>
      <th scope="col">No</th>
      <th scope="col">Name</th>
      <th scope="col">Price</th>
      <th scope="col">Description</th>
      <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody>
        @foreach(var item in Model)
        {
            <tr class="table-light">
      <th scope="row">@item.Id</th>
      <td>@item.Name</td>
      <td>@item.Price</td>
      <td>@item.Description</td>
      <td>
          <a class="btn btn-info btn-sm" asp-action="Details" asp-route-id="@item.Id">Detail</a>
          <a class="btn btn-warning btn-sm" asp-action="Edit" asp-route-id="@item.Id">Edit</a>
          <button type="button" class="btn btn-danger btn-sm" onclick='displayAlert()'>Delete</button>
      </td>
    </tr>
        }
    
  </tbody>
</table>*@

                <table id="product_table" class="table table-bordered table-hover">
                  <thead>
                  <tr>
                    <th>No</th>
                    <th>Name</th>
                    <th>Price</th>
                    <th>Description</th>
                    <th>Action</th>
                  </tr>
                  </thead>
                  <tbody>
                  @foreach(var item in Model)
                    {
                        <tr class="table-light">
                          <th scope="row">@item.Id</th>
                          <td>@item.Name</td>
                          <td>@item.Price</td>
                          <td>@item.Description</td>
                          <td>
                              @*<a class="btn btn-primary btn-sm" asp-action="Edit" asp-route-id="123">Edit</a>*@
                              @*asp-route-id="@item.Id"*@
                              <a class="btn btn-info btn-sm" asp-action="Details" asp-route-id="@item.Id">Detail</a>
                              <a class="btn btn-warning btn-sm" asp-action="Edit" asp-route-id="@item.Id">Edit</a>
                              <button type="button" class="btn btn-danger btn-sm" onclick='displayAlert()'>Delete</button>
                          </td>
                        </tr>
                    }
                  </tbody>
                </table>

@section scripts{
    <script>
    $(document).ready(function () {
        $("#product_table").DataTable({
            "paging": true,
            "lengthChange": true,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
        })
    })

    function displayAlert(){
            Swal.fire({
              title: 'Are you sure want to delete?',
              text: "You won't be able to revert this!",
              icon: 'warning',
              showCancelButton: true,
              confirmButtonColor: '#3085d6',
              cancelButtonColor: '#d33',
              confirmButtonText: 'Yes, delete it!'
            }).then((result) => {
              if (result.isConfirmed) {
                Swal.fire(
                  'Deleted!',
                  'Your file has been deleted.',
                  'success'
                )
              }
            })
    }
</script>
}
